pdi:
  metadata:
    nx: int
    max_iter: int
    frequency: int
    iter: int
    ghost_depth: int

  data:
    rho_new: { type: array, subtype: double, size: '$nx+2*$ghost_depth' }
    u: { type: array, subtype: double, size: '$nx+2*$ghost_depth' }
    

  plugins:
    decl_hdf5:
      - file: test_${iter}.h5
        collision_policy: replace
        on_event: write_rho_new
        when: "$iter%$frequency=0"
        write:
          rho_new:
          u:
    trace: